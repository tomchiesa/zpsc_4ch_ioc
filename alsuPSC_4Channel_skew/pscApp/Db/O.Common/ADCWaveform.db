#*****************************************************************************
#Rx waveform: 1st waveform has ID of 16
#*****************************************************************************
record(waveform, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Raw") {
	field(DTYP, "PSC Block I8 In")
	field(INP , "@AdcPort_$(PSC) 16")
	field(SCAN, "I/O Intr")
	field(FTVL, "CHAR")
	field(NELM, "$(ADC10K_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse")
}

record(aSub, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse") {
	field(SNAM, "ADCSnapShotParse")
	field(INPA, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")

	field(FLNK, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse2")
}

record(aSub, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse2") {
	field(SNAM, "ADCSnapShotParse2")
	field(INPA, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")

	field(FLNK, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse3")
}

record(aSub, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse3") {
	field(SNAM, "ADCSnapShotParse3")
	field(INPA, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse4")
}

record(aSub, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse4") {
	field(SNAM, "ADCSnapShotParse4")
	field(INPA, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse5")
}

record(aSub, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse5") {
	field(SNAM, "ADCSnapShotParse5")
	field(INPA, "$(PriSys){$(PSC)}Trig1_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig1_DCCT1_ARRAY")
}

#acalcout records for pV renaming, and scaling

#-----------------------------------------------------------------------
# Channel 1
#-----------------------------------------------------------------------

#Chan1 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig1_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan1}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan1-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig1_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig1_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig1_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig1_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan1}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan1-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig1_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig1_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig1_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig1_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse2.VALA") 
	field(INPA,"$(PriSys){$(PSC):Chan1}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig1_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig1_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig1_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig1_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse2.VALE") 
	field(INPA,"$(PriSys){$(PSC):Chan1}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig1_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig1_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig1_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig1_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse2.VALG") 
	field(INPA,"$(PriSys){$(PSC):Chan1}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig1_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig1_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig1_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig1_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse2.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan1}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig1_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig1_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig1_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig1_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse4.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan1}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig1_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig1_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig1_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig1_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse4.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan1}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig1_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig1_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig1_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}


#-----------------------------------------------------------------------
# Channel 2
#-----------------------------------------------------------------------

#Chan2 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig1_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan2-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig1_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig1_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig1_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig1_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan2}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan2-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig1_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig1_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig1_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig1_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse2.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig1_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig1_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig1_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig1_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse2.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan2}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig1_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig1_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig1_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig1_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse3.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan2}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig1_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig1_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig1_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig1_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse3.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig1_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig1_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig1_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig1_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse4.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan2}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig1_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig1_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig1_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig1_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse4.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan2}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig1_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig1_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig1_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#------------------------------------------------------
# Channel 3
#------------------------------------------------------

#Chan3 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig1_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan3-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig1_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig1_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig1_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig1_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan3}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan3-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig1_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig1_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig1_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig1_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse2.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan3}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig1_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig1_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig1_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig1_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse3.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan3}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig1_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig1_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig1_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig1_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse3.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan3}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig1_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig1_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig1_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig1_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse3.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig1_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig1_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig1_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig1_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse4.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan3}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig1_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig1_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig1_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig1_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse4.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig1_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig1_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig1_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#------------------------------------------------------
# Channel 4
#------------------------------------------------------

#Chan4 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig1_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan4}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan4-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig1_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig1_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig1_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig1_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan4}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan4-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig1_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig1_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig1_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig1_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse2.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan4}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig1_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig1_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig1_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig1_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse3.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan4}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig1_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig1_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig1_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig1_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse3.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan4}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig1_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig1_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig1_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig1_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse3.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan4}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig1_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig1_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig1_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig1_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse4.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan2}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig1_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig1_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig1_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig1_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse4.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan2}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig1_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig1_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig1_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#---------------------------------------------------------------------------
#Fault Registers 
#---------------------------------------------------------------------------
record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig1_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse5.VALA")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig1_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig1_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig1_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig1_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse5.VALB")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig1_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig1_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig1_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig1_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse5.VALC")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig1_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig1_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig1_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig1_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig1_ADCSnapShot_Parse5.VALD")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig1_fault_reg PP")
	#field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig1_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig1_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}


#*****************************************************************************
#Rx waveform: 1st waveform has ID of 17
#*****************************************************************************
record(waveform, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Raw") {
	field(DTYP, "PSC Block I8 In")
	field(INP , "@AdcPort_$(PSC) 17")
	field(SCAN, "I/O Intr")
	field(FTVL, "CHAR")
	field(NELM, "$(ADC10K_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse")
}

record(aSub, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse") {
	field(SNAM, "ADCSnapShotParse")
	field(INPA, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")

	field(FLNK, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse2")
}

record(aSub, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse2") {
	field(SNAM, "ADCSnapShotParse2")
	field(INPA, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")

	field(FLNK, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse3")
}

record(aSub, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse3") {
	field(SNAM, "ADCSnapShotParse3")
	field(INPA, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse4")
}

record(aSub, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse4") {
	field(SNAM, "ADCSnapShotParse4")
	field(INPA, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse5")
}

record(aSub, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse5") {
	field(SNAM, "ADCSnapShotParse5")
	field(INPA, "$(PriSys){$(PSC)}Trig2_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig2_DCCT1_ARRAY")
}

#acalcout records for pV renaming, and scaling

#-----------------------------------------------------------------------
# Channel 1
#-----------------------------------------------------------------------

#Chan1 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig2_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan1}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan1-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig2_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig2_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig2_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig2_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan1}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan1-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig2_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig2_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig2_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig2_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse2.VALA") 
	field(INPA,"$(PriSys){$(PSC):Chan1}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig2_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig2_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig2_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig2_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse2.VALE") 
	field(INPA,"$(PriSys){$(PSC):Chan1}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig2_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig2_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig2_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig2_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse2.VALG") 
	field(INPA,"$(PriSys){$(PSC):Chan1}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig2_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig2_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig2_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig2_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse2.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan1}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig2_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig2_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig2_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig2_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse4.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan1}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig2_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig2_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig2_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig2_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse4.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan1}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig2_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig2_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig2_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}


#-----------------------------------------------------------------------
# Channel 2
#-----------------------------------------------------------------------

#Chan2 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig2_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan2-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig2_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig2_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig2_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig2_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan2}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan2-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig2_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig2_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig2_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig2_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse2.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig2_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig2_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig2_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig2_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse2.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan2}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig2_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig2_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig2_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig2_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse3.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan2}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig2_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig2_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig2_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig2_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse3.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig2_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig2_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig2_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig2_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse4.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan2}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig2_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig2_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig2_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig2_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse4.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan2}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig2_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig2_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig2_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#------------------------------------------------------
# Channel 3
#------------------------------------------------------

#Chan3 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig2_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan3-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig2_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig2_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig2_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig2_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan3}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan3-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig2_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig2_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig2_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig2_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse2.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan3}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig2_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig2_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig2_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig2_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse3.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan3}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig2_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig2_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig2_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig2_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse3.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan3}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig2_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig2_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig2_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig2_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse3.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig2_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig2_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig2_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig2_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse4.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan3}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig2_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig2_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig2_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig2_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse4.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig2_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig2_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig2_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#------------------------------------------------------
# Channel 4
#------------------------------------------------------

#Chan4 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig2_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan4}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan4-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig2_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig2_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig2_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig2_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan4}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan4-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig2_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig2_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig2_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig2_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse2.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan4}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig2_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig2_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig2_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig2_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse3.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan4}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig2_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig2_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig2_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig2_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse3.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan4}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig2_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig2_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig2_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig2_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse3.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan4}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig2_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig2_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig2_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig2_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse4.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan2}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig2_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig2_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig2_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig2_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse4.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan2}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig2_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig2_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig2_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#---------------------------------------------------------------------------
#Fault Registers 
#---------------------------------------------------------------------------
record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig2_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse5.VALA")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig2_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig2_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig2_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig2_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse5.VALB")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig2_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig2_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig2_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig2_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse5.VALC")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig2_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig2_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig2_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig2_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig2_ADCSnapShot_Parse5.VALD")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig2_fault_reg PP")
	#field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig2_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig2_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}


#*****************************************************************************
#Rx waveform: 1st waveform has ID of 18
#*****************************************************************************
record(waveform, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Raw") {
	field(DTYP, "PSC Block I8 In")
	field(INP , "@AdcPort_$(PSC) 18")
	field(SCAN, "I/O Intr")
	field(FTVL, "CHAR")
	field(NELM, "$(ADC10K_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse")
}

record(aSub, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse") {
	field(SNAM, "ADCSnapShotParse")
	field(INPA, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")

	field(FLNK, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse2")
}

record(aSub, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse2") {
	field(SNAM, "ADCSnapShotParse2")
	field(INPA, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")

	field(FLNK, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse3")
}

record(aSub, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse3") {
	field(SNAM, "ADCSnapShotParse3")
	field(INPA, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse4")
}

record(aSub, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse4") {
	field(SNAM, "ADCSnapShotParse4")
	field(INPA, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse5")
}

record(aSub, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse5") {
	field(SNAM, "ADCSnapShotParse5")
	field(INPA, "$(PriSys){$(PSC)}Trig3_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig3_DCCT1_ARRAY")
}

#acalcout records for pV renaming, and scaling

#-----------------------------------------------------------------------
# Channel 1
#-----------------------------------------------------------------------

#Chan1 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig3_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan1}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan1-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig3_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig3_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig3_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig3_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan1}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan1-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig3_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig3_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig3_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig3_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse2.VALA") 
	field(INPA,"$(PriSys){$(PSC):Chan1}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig3_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig3_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig3_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig3_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse2.VALE") 
	field(INPA,"$(PriSys){$(PSC):Chan1}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig3_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig3_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig3_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig3_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse2.VALG") 
	field(INPA,"$(PriSys){$(PSC):Chan1}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig3_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig3_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig3_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig3_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse2.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan1}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig3_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig3_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig3_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig3_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse4.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan1}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig3_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig3_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig3_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig3_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse4.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan1}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig3_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig3_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig3_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}


#-----------------------------------------------------------------------
# Channel 2
#-----------------------------------------------------------------------

#Chan2 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig3_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan2-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig3_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig3_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig3_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig3_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan2}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan2-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig3_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig3_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig3_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig3_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse2.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig3_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig3_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig3_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig3_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse2.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan2}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig3_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig3_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig3_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig3_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse3.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan2}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig3_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig3_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig3_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig3_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse3.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig3_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig3_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig3_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig3_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse4.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan2}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig3_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig3_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig3_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig3_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse4.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan2}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig3_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig3_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig3_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#------------------------------------------------------
# Channel 3
#------------------------------------------------------

#Chan3 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig3_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan3-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig3_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig3_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig3_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig3_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan3}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan3-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig3_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig3_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig3_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig3_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse2.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan3}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig3_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig3_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig3_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig3_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse3.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan3}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig3_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig3_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig3_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig3_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse3.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan3}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig3_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig3_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig3_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig3_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse3.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig3_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig3_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig3_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig3_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse4.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan3}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig3_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig3_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig3_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig3_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse4.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig3_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig3_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig3_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#------------------------------------------------------
# Channel 4
#------------------------------------------------------

#Chan4 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig3_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan4}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan4-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig3_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig3_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig3_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig3_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan4}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan4-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig3_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig3_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig3_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig3_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse2.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan4}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig3_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig3_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig3_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig3_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse3.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan4}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig3_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig3_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig3_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig3_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse3.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan4}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig3_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig3_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig3_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig3_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse3.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan4}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig3_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig3_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig3_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig3_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse4.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan2}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig3_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig3_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig3_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig3_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse4.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan2}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig3_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig3_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig3_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#---------------------------------------------------------------------------
#Fault Registers 
#---------------------------------------------------------------------------
record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig3_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse5.VALA")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig3_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig3_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig3_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig3_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse5.VALB")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig3_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig3_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig3_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig3_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse5.VALC")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig3_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig3_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig3_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig3_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig3_ADCSnapShot_Parse5.VALD")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig3_fault_reg PP")
	#field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig3_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig3_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}


#*****************************************************************************
#Rx waveform: 1st waveform has ID of 19
#*****************************************************************************
record(waveform, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Raw") {
	field(DTYP, "PSC Block I8 In")
	field(INP , "@AdcPort_$(PSC) 19")
	field(SCAN, "I/O Intr")
	field(FTVL, "CHAR")
	field(NELM, "$(ADC10K_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse")
}

record(aSub, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse") {
	field(SNAM, "ADCSnapShotParse")
	field(INPA, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")

	field(FLNK, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse2")
}

record(aSub, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse2") {
	field(SNAM, "ADCSnapShotParse2")
	field(INPA, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")

	field(FLNK, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse3")
}

record(aSub, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse3") {
	field(SNAM, "ADCSnapShotParse3")
	field(INPA, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse4")
}

record(aSub, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse4") {
	field(SNAM, "ADCSnapShotParse4")
	field(INPA, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	field(FLNK, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse5")
}

record(aSub, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse5") {
	field(SNAM, "ADCSnapShotParse5")
	field(INPA, "$(PriSys){$(PSC)}Trig4_ADCSnapShot_Raw")
	field(FTA, "CHAR")
	field(NOA, "$(ADC10K_POINTS)")

	field(FTVA, "FLOAT")
	field(NOVA, "$(ADCSnapShot_POINTS)")
	field(FTVB, "FLOAT")
	field(NOVB, "$(ADCSnapShot_POINTS)")
	field(FTVC, "FLOAT")
	field(NOVC, "$(ADCSnapShot_POINTS)")
	field(FTVD, "FLOAT")
	field(NOVD, "$(ADCSnapShot_POINTS)")
	field(FTVE, "FLOAT")
	field(NOVE, "$(ADCSnapShot_POINTS)")
	field(FTVF, "FLOAT")
	field(NOVF, "$(ADCSnapShot_POINTS)")
	field(FTVG, "FLOAT")
	field(NOVG, "$(ADCSnapShot_POINTS)")
	field(FTVH, "FLOAT")
	field(NOVH, "$(ADCSnapShot_POINTS)")
	
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig4_DCCT1_ARRAY")
}

#acalcout records for pV renaming, and scaling

#-----------------------------------------------------------------------
# Channel 1
#-----------------------------------------------------------------------

#Chan1 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig4_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan1}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan1-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig4_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig4_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig4_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig4_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan1}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan1-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig4_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig4_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig4_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig4_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse2.VALA") 
	field(INPA,"$(PriSys){$(PSC):Chan1}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig4_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig4_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig4_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig4_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse2.VALE") 
	field(INPA,"$(PriSys){$(PSC):Chan1}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig4_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig4_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig4_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig4_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse2.VALG") 
	field(INPA,"$(PriSys){$(PSC):Chan1}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig4_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig4_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig4_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig4_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse2.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan1}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig4_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig4_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig4_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig4_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse4.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan1}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig4_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig4_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig4_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan1 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig4_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse4.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan1}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan1-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan1}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig4_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig4_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig4_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}


#-----------------------------------------------------------------------
# Channel 2
#-----------------------------------------------------------------------

#Chan2 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig4_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan2-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig4_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig4_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig4_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig4_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan2}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan2-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig4_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig4_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig4_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig4_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse2.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig4_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig4_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig4_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig4_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse2.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan2}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig4_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig4_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig4_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig4_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse3.VALA")
	field(INPA,"$(PriSys){$(PSC):Chan2}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig4_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig4_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig4_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig4_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse3.VALC")
	field(INPA,"$(PriSys){$(PSC):Chan2}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig4_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig4_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig4_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig4_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse4.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan2}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig4_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig4_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig4_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan2 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig4_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse4.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan2}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan2-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig4_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig4_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig4_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#------------------------------------------------------
# Channel 3
#------------------------------------------------------

#Chan3 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig4_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan3-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig4_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig4_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig4_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig4_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan3}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan3-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig4_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig4_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig4_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig4_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse2.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan3}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig4_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig4_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig4_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig4_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse3.VALB")
	field(INPA,"$(PriSys){$(PSC):Chan3}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig4_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig4_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig4_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig4_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse3.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan3}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig4_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig4_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig4_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig4_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse3.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig4_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig4_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig4_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig4_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse4.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan3}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig4_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig4_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig4_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan3 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig4_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse4.VALE")
	field(INPA,"$(PriSys){$(PSC):Chan3}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan3-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan3}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig4_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig4_DCCT1_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig4_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#------------------------------------------------------
# Channel 4
#------------------------------------------------------

#Chan4 DCCT1

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig4_DCCT1_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan4}dcct1_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct1ADC:Chan4-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dcct1_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig4_DCCT1 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig4_DCCT2_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig4_DCCT1"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 DCCT2

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig4_DCCT2_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan4}dcct2_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}dcct2ADC:Chan4-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dcct2_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig4_DCCT2 PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig4_DAC_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig4_DCCT2"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 DAC Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig4_DAC_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse2.VALD")
	field(INPA,"$(PriSys){$(PSC):Chan4}dac_rdbck_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-DAC-SP-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}dac_rdbck_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig4_DAC_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig4_Volt_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig4_DAC_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig4_Volt_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse3.VALG")
	field(INPA,"$(PriSys){$(PSC):Chan4}volt_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-VOLT-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}volt_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig4_Volt_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig4_IGnd_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig4_Volt_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Ground Current Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig4_IGnd_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse3.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan4}gnd_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-GND-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}gnd_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig4_IGnd_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig4_BUSV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig4_IGnd_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 BUS Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig4_BUSV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse3.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan4}spare_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-Spare-Mon-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan4}spare_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig4_BUSV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig4_Loop_Error_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig4_BUSV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Loop Error Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig4_Loop_Error_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse4.VALH")
	field(INPA,"$(PriSys){$(PSC):Chan2}error_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-PS-Err-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}error_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig4_Loop_Error_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig4_RegV_Readback_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig4_Loop_Error_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#Chan4 Regulator Voltage Readback

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig4_RegV_Readback_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse4.VALF")
	field(INPA,"$(PriSys){$(PSC):Chan2}reg_gain_in_qspi PP")
	field(INPB,"$(PriSys){$(PSC)}Chan4-PS-Reg-Out-Impd PP")
	field(INPC,"$(PriSys){$(PSC):Chan2}reg_offset_in_qspi PP")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"(AA*A*B)-(C)")
	#field(CALC,"AA")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig4_RegV_Readback PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan1:Trig4_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig4_RegV_Readback"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

#---------------------------------------------------------------------------
#Fault Registers 
#---------------------------------------------------------------------------
record(acalcout,"$(PriSys){$(PSC)}Chan1:Trig4_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse5.VALA")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan1:Trig4_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan2:Trig4_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan1:Trig4_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan2:Trig4_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse5.VALB")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan2:Trig4_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan3:Trig4_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan2:Trig4_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan3:Trig4_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse5.VALC")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan3:Trig4_fault_reg PP")
	field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig4_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan3:Trig4_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}

record(acalcout,"$(PriSys){$(PSC)}Chan4:Trig4_fault_reg_ARRAY"){
	field(INAA,"$(PriSys){$(PSC)}Trig4_ADCSnapShot_Parse5.VALD")
	field(NELM,"$(ADCSnapShot_POINTS)")
	field(NUSE,"$(ADCSnapShot_POINTS)")
	field(SIZE,"NUSE")
	field(CALC,"AA*1")
	field(OUT,"$(PriSys){$(PSC)}Chan4:Trig4_fault_reg PP")
	#field(FLNK,"$(PriSys){$(PSC)}Chan4:Trig4_fault_reg_ARRAY")
}

record(waveform, "$(PriSys){$(PSC)}Chan4:Trig4_fault_reg"){
    field(NELM, "$(ADCSnapShot_POINTS)")
    field(FTVL, "DOUBLE")
}


